# Podcast Summaries Dashboard

A static Next.js dashboard that displays weekly podcast episode summaries generated by the automation system.

## Features

- ðŸ“… **Weekly Archive**: Browse summaries organized by week
- ðŸ“Š **Episode Overview**: View all episodes and their summaries
- ðŸ” **Clean UI**: Responsive design with Tailwind CSS
- âš¡ **Fast Loading**: Static site generation for optimal performance
- ðŸš€ **Auto-Deploy**: Automatically updates when new summaries are committed

## Architecture

### Static Site Generation
The dashboard uses Next.js 14 with App Router and static site generation (`output: 'export'`). All pages are pre-rendered at build time from the summaries stored in `public/summaries/`.

### Data Flow
1. GitHub Actions runs weekly podcast automation
2. Summaries are generated and copied to `dashboard/public/summaries/YYYY-MM-DD/`
3. Metadata is generated for each week
4. Changes are committed to the repository
5. Vercel detects the commit and automatically rebuilds/deploys the site

### Directory Structure
```
dashboard/
â”œâ”€â”€ app/                      # Next.js App Router pages
â”‚   â”œâ”€â”€ layout.tsx           # Root layout with header/footer
â”‚   â”œâ”€â”€ page.tsx             # Homepage (latest 6 weeks)
â”‚   â””â”€â”€ summaries/
â”‚       â”œâ”€â”€ page.tsx         # Archive page (all weeks)
â”‚       â””â”€â”€ [date]/
â”‚           â””â”€â”€ page.tsx     # Individual week page
â”œâ”€â”€ components/              # Reusable React components
â”‚   â”œâ”€â”€ SummaryCard.tsx     # Week preview card
â”‚   â””â”€â”€ MarkdownRenderer.tsx # Markdown display
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ summaries.ts        # Data fetching utilities
â””â”€â”€ public/
    â””â”€â”€ summaries/          # Generated by GitHub Actions
        â””â”€â”€ YYYY-MM-DD/
            â”œâ”€â”€ metadata.json
            â””â”€â”€ *.md files
```

## URL Structure

- `/` - Homepage showing latest 6 weeks
- `/summaries` - Complete archive of all weeks
- `/summaries/2025-01-07` - Specific week's summaries

## Development

### Prerequisites
- Node.js 18+
- npm or yarn

### Local Setup

```bash
cd dashboard
npm install
npm run dev
```

The site will be available at http://localhost:3000

### Adding Sample Data

To test locally, create sample summaries:

```bash
mkdir -p public/summaries/2025-01-07
echo "# Test Episode" > public/summaries/2025-01-07/test.md
python3 ../scripts/generate_metadata.py public/summaries/2025-01-07
```

## Deployment

### Vercel (Recommended)

1. **Connect Repository**
   - Go to [Vercel Dashboard](https://vercel.com/new)
   - Import your GitHub repository
   - Select the repository: `rishdas2007/Notion-Summarizer`

2. **Configure Project**
   - Framework Preset: Next.js
   - Root Directory: `dashboard`
   - Build Command: `npm run build` (or leave default)
   - Output Directory: Leave empty (default)

3. **Deploy**
   - Click "Deploy"
   - Vercel will automatically deploy on every push to main

### Manual Deployment

```bash
cd dashboard
npm run build
```

The static files will be in the `out/` directory.

## Environment Variables

No environment variables needed - the dashboard reads static files from `public/summaries/`.

## Maintenance

### Weekly Updates
The dashboard automatically updates when:
1. GitHub Actions runs (every Sunday at 9 AM UTC)
2. New summaries are committed to `dashboard/public/summaries/`
3. Vercel detects the commit and rebuilds

### Manual Updates
To add summaries manually:

```bash
# Copy markdown files to dated folder
mkdir -p dashboard/public/summaries/2025-01-14
cp summaries/*.md dashboard/public/summaries/2025-01-14/

# Generate metadata
python3 scripts/generate_metadata.py dashboard/public/summaries/2025-01-14

# Commit and push
git add dashboard/public/summaries/
git commit -m "Add summaries for week of 2025-01-14"
git push
```

## Troubleshooting

### Build Fails on Vercel
- Check that all dependencies are in `package.json`
- Ensure TypeScript types are correct
- Review build logs in Vercel dashboard

### Summaries Not Showing
- Verify `metadata.json` exists in each week folder
- Check date format is `YYYY-MM-DD`
- Ensure markdown files have proper content

### Styling Issues
- Clear `.next` cache: `rm -rf .next`
- Rebuild: `npm run build`
- Check Tailwind config includes all source files

## Tech Stack

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Markdown**: react-markdown with remark-gfm
- **Deployment**: Vercel
- **CI/CD**: GitHub Actions

## License

Part of the Podcast Automation project.
